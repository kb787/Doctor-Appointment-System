{"ast":null,"code":"import { warning } from 'rc-util';\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport { getWin } from \"../util\";\nexport default function useWinClick(open, clickToHide, targetEle, popupEle, mask, maskClosable, inPopupOrChild, triggerOpen) {\n  var openRef = React.useRef(open);\n\n  // Window click to hide should be lock to avoid trigger lock immediately\n  var lockRef = React.useRef(false);\n  if (openRef.current !== open) {\n    lockRef.current = true;\n    openRef.current = open;\n  }\n  React.useEffect(function () {\n    var id = raf(function () {\n      lockRef.current = false;\n    });\n    return function () {\n      raf.cancel(id);\n    };\n  }, [open]);\n\n  // Click to hide is special action since click popup element should not hide\n  React.useEffect(function () {\n    if (clickToHide && popupEle && (!mask || maskClosable)) {\n      var clickInside = false;\n\n      // User may mouseDown inside and drag out of popup and mouse up\n      // Record here to prevent close\n      var onWindowMouseDown = function onWindowMouseDown(_ref) {\n        var target = _ref.target;\n        clickInside = inPopupOrChild(target);\n      };\n      var onWindowClick = function onWindowClick(_ref2) {\n        var target = _ref2.target;\n        if (!lockRef.current && openRef.current && !clickInside && !inPopupOrChild(target)) {\n          triggerOpen(false);\n        }\n      };\n      var win = getWin(popupEle);\n      var targetRoot = targetEle === null || targetEle === void 0 ? void 0 : targetEle.getRootNode();\n      win.addEventListener('mousedown', onWindowMouseDown);\n      win.addEventListener('click', onWindowClick);\n\n      // shadow root\n      var inShadow = targetRoot && targetRoot !== targetEle.ownerDocument;\n      if (inShadow) {\n        targetRoot.addEventListener('mousedown', onWindowMouseDown);\n        targetRoot.addEventListener('click', onWindowClick);\n      }\n\n      // Warning if target and popup not in same root\n      if (process.env.NODE_ENV !== 'production') {\n        var popupRoot = popupEle.getRootNode();\n        warning(targetRoot === popupRoot, \"trigger element and popup element should in same shadow root.\");\n      }\n      return function () {\n        win.removeEventListener('mousedown', onWindowMouseDown);\n        win.removeEventListener('click', onWindowClick);\n        if (inShadow) {\n          targetRoot.removeEventListener('mousedown', onWindowMouseDown);\n          targetRoot.removeEventListener('click', onWindowClick);\n        }\n      };\n    }\n  }, [clickToHide, targetEle, popupEle, mask, maskClosable]);\n}","map":{"version":3,"names":["warning","raf","React","getWin","useWinClick","open","clickToHide","targetEle","popupEle","mask","maskClosable","inPopupOrChild","triggerOpen","openRef","useRef","lockRef","current","useEffect","id","cancel","clickInside","onWindowMouseDown","_ref","target","onWindowClick","_ref2","win","targetRoot","getRootNode","addEventListener","inShadow","ownerDocument","process","env","NODE_ENV","popupRoot","removeEventListener"],"sources":["C:/Users/Admin/mernStackAppointSystem/frontend/mymernapp/node_modules/@rc-component/trigger/es/hooks/useWinClick.js"],"sourcesContent":["import { warning } from 'rc-util';\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport { getWin } from \"../util\";\nexport default function useWinClick(open, clickToHide, targetEle, popupEle, mask, maskClosable, inPopupOrChild, triggerOpen) {\n  var openRef = React.useRef(open);\n\n  // Window click to hide should be lock to avoid trigger lock immediately\n  var lockRef = React.useRef(false);\n  if (openRef.current !== open) {\n    lockRef.current = true;\n    openRef.current = open;\n  }\n  React.useEffect(function () {\n    var id = raf(function () {\n      lockRef.current = false;\n    });\n    return function () {\n      raf.cancel(id);\n    };\n  }, [open]);\n\n  // Click to hide is special action since click popup element should not hide\n  React.useEffect(function () {\n    if (clickToHide && popupEle && (!mask || maskClosable)) {\n      var clickInside = false;\n\n      // User may mouseDown inside and drag out of popup and mouse up\n      // Record here to prevent close\n      var onWindowMouseDown = function onWindowMouseDown(_ref) {\n        var target = _ref.target;\n        clickInside = inPopupOrChild(target);\n      };\n      var onWindowClick = function onWindowClick(_ref2) {\n        var target = _ref2.target;\n        if (!lockRef.current && openRef.current && !clickInside && !inPopupOrChild(target)) {\n          triggerOpen(false);\n        }\n      };\n      var win = getWin(popupEle);\n      var targetRoot = targetEle === null || targetEle === void 0 ? void 0 : targetEle.getRootNode();\n      win.addEventListener('mousedown', onWindowMouseDown);\n      win.addEventListener('click', onWindowClick);\n\n      // shadow root\n      var inShadow = targetRoot && targetRoot !== targetEle.ownerDocument;\n      if (inShadow) {\n        targetRoot.addEventListener('mousedown', onWindowMouseDown);\n        targetRoot.addEventListener('click', onWindowClick);\n      }\n\n      // Warning if target and popup not in same root\n      if (process.env.NODE_ENV !== 'production') {\n        var popupRoot = popupEle.getRootNode();\n        warning(targetRoot === popupRoot, \"trigger element and popup element should in same shadow root.\");\n      }\n      return function () {\n        win.removeEventListener('mousedown', onWindowMouseDown);\n        win.removeEventListener('click', onWindowClick);\n        if (inShadow) {\n          targetRoot.removeEventListener('mousedown', onWindowMouseDown);\n          targetRoot.removeEventListener('click', onWindowClick);\n        }\n      };\n    }\n  }, [clickToHide, targetEle, popupEle, mask, maskClosable]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}